# 会議室の最大同時使用数（Meeting Rooms II）

## 問題

```php
function solution(array $intervals): int {
}
```

会議の時間帯 `$intervals` が与えられます。各会議は `[start, end]` の形式です。

全ての会議を行うために必要な**最小の会議室数**を返してください。

（= 同時に行われる会議の最大数）

## 例

### 例1
```
入力: [[0, 30], [5, 10], [15, 20]]
出力: 2
```

**解説**:
- 0-30 の会議中に 5-10 の会議が重なる → 2部屋必要
- 15-20 は 0-30 と重なるが、5-10 は終了済み → 2部屋で足りる

### 例2
```
入力: [[7, 10], [2, 4]]
出力: 1
```

**解説**: 会議が重ならない

### 例3
```
入力: [[1, 5], [2, 6], [3, 7]]
出力: 3
```

**解説**: 全ての会議が時刻3で重なる → 3部屋必要

### 例4
```
入力: [[1, 2], [2, 3], [3, 4]]
出力: 1
```

**解説**: 端点で接続するが重ならない（同時刻の終了と開始はOK）

### 例5
```
入力: [[1, 10], [2, 3], [4, 5], [6, 7]]
出力: 2
```

### 例6
```
入力: []
出力: 0
```

## 制約

```
0 <= count($intervals) <= 10000
0 <= start < end <= 10000
```

## ヒント

### アプローチ: イベントソート

1. 各会議を「開始イベント」と「終了イベント」に分解
2. 時刻でソート（同時刻なら終了を先に処理）
3. 開始で +1、終了で -1 して、最大値を追跡

### 擬似コード

```
events = []
for each [start, end] in intervals:
    events.add((start, +1))  // 開始
    events.add((end, -1))    // 終了

sort events by (time, type)  // 同時刻は終了(-1)を先に

current = 0
maxRooms = 0

for each (time, delta) in events:
    current += delta
    maxRooms = max(maxRooms, current)

return maxRooms
```

### 同時刻の処理

時刻2で会議Aが終了し、会議Bが開始する場合:
- 終了を先に処理 → 同じ部屋を使い回せる
- `[1,2], [2,3]` は 1部屋で OK

### 計算量

- 時間: O(N log N)
- 空間: O(N)
