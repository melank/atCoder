# 区間マージ問題（バケットソート版）

## 問題

区間マージ問題と同じですが、バケットソートを使用して O(N + K) で解きます。

## 前提条件

```
0 <= start < end <= 10000
```

値の範囲が限定されているため、バケットソートが使用可能。

## アルゴリズム

### 1. バケットへの振り分け

start の値をインデックスとして、各区間をバケットに格納。

```
intervals = [[5,7], [1,3], [2,4], [1,5]]

buckets[1] = [[1,3], [1,5]]
buckets[2] = [[2,4]]
buckets[5] = [[5,7]]
```

### 2. バケット内のソート（必要な場合）

同じ start を持つ区間が複数ある場合、end でソート。

```
buckets[1] = [[1,3], [1,5]]  →  [[1,3], [1,5]]  （end の昇順）
```

### 3. バケットから順に取り出してマージ

```
i=1: [[1,3], [1,5]] → merged = [[1,5]]
i=2: [[2,4]] → 重複あり → merged = [[1,5]]
i=5: [[5,7]] → 重複なし → merged = [[1,5], [5,7]]
```

## 計算量

| 処理 | 計算量 |
|------|--------|
| バケット振り分け | O(N) |
| バケット内ソート | O(N log M) ※M は同一 start の最大数 |
| マージ | O(N + K) |
| **合計** | **O(N + K)** ※バケット内が少数の場合 |

K = 10001（0〜10000）

## 比較ソートとの比較

| 方法 | 時間計算量 | 適用条件 |
|------|-----------|----------|
| usort | O(N log N) | 汎用的 |
| バケットソート | O(N + K) | 値の範囲が限定 |

N = 1,000,000, K = 10,001 の場合:
- usort: ~20,000,000 操作
- バケット: ~1,010,001 操作

## 制約

```
1 <= len(intervals)（上限なし）
0 <= start < end <= 10000
```
