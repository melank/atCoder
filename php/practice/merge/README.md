# 区間マージ問題

## 問題

```php
function solution(array $intervals): array {
}
```

`$intervals` は int 型の2次元配列で、各要素は `[start, end]` の形式で間隔を表します。

間隔同士が**重複**している場合、それらを**1つの間隔に結合**してください。

重複のない間隔の配列を返してください。

### 重複の定義

2つの間隔 `[a, b]` と `[c, d]` が重複しているとは、一方の終点が他方の開始点以上である場合を指します。

例: `[1, 3]` と `[2, 4]` → 重複あり → `[1, 4]` に結合

## 例

### 例1
```
入力 : [[1, 2], [2, 3], [3, 4]]
出力 : [[1, 4]]
```

**解説**:
- `[1, 2]` と `[2, 3]` は重複（2で接続）→ `[1, 3]`
- `[1, 3]` と `[3, 4]` は重複（3で接続）→ `[1, 4]`

### 例2
```
入力 : [[1, 3], [2, 4], [5, 7]]
出力 : [[1, 4], [5, 7]]
```

**解説**:
- `[1, 3]` と `[2, 4]` は重複 → `[1, 4]`
- `[5, 7]` は独立

### 例3
```
入力 : [[1, 4], [4, 5]]
出力 : [[1, 5]]
```

**解説**: 端点が一致しているので重複。

### 例4
```
入力 : [[1, 2], [5, 6], [3, 4]]
出力 : [[1, 2], [3, 4], [5, 6]]
```

**解説**: 全て独立した間隔（ソートして返す）。

### 例5
```
入力 : [[1, 10], [2, 3], [4, 5], [6, 7]]
出力 : [[1, 10]]
```

**解説**: 全ての間隔が `[1, 10]` に含まれる。

### 例6
```
入力 : [[5, 7]]
出力 : [[5, 7]]
```

**解説**: 1つだけなので変化なし。

### 例7
```
入力 : [[1, 5], [2, 3]]
出力 : [[1, 5]]
```

**解説**: `[2, 3]` は `[1, 5]` に完全に含まれる。

## 制約

```
1 <= count($intervals) <= 5000
任意の間隔 $intervals[i] は常に長さが2
0 <= start < end <= 10000
```

## ヒント

### アルゴリズム

1. **ソート**: 開始点（start）でソートする
2. **線形走査**: 前の間隔と比較しながらマージ

### 擬似コード

```
intervals をstartでソート
merged = [intervals[0]]

for i = 1 to n-1:
    last = merged の最後の要素
    current = intervals[i]

    if current.start <= last.end:
        # 重複あり → マージ
        last.end = max(last.end, current.end)
    else:
        # 重複なし → そのまま追加
        merged に current を追加

return merged
```

### 計算量

- 時間: O(N log N) ← ソートがボトルネック
- 空間: O(N) ← 結果の配列
